"use strict";(self.webpackChunkgh_website=self.webpackChunkgh_website||[]).push([[460],{9020:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>V,contentTitle:()=>I,default:()=>T,frontMatter:()=>Z,metadata:()=>M,toc:()=>A});var n=a(7462),l=a(7294),o=a(3905),i=a(6010),s=a(2466),r=a(6550),d=a(1980),u=a(7392),p=a(12);function c(e){return function(e){return l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:l}}=e;return{value:t,label:a,attributes:n,default:l}}))}function m(e){const{values:t,children:a}=e;return(0,l.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function h(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function k(e){let{queryString:t=!1,groupId:a}=e;const n=(0,r.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,d._X)(o),(0,l.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,o=m(e),[i,s]=(0,l.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[r,d]=k({queryString:a,groupId:n}),[u,c]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,p.Nk)(a);return[n,(0,l.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:n}),f=(()=>{const e=r??u;return h({value:e,tabValues:o})?e:null})();(0,l.useLayoutEffect)((()=>{f&&s(f)}),[f]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),c(e)}),[d,c,o]),tabValues:o}}var g=a(2389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:a,selectedValue:o,selectValue:r,tabValues:d}=e;const u=[],{blockElementScrollPositionUntilNextRender:p}=(0,s.o5)(),c=e=>{const t=e.currentTarget,a=u.indexOf(t),n=d[a].value;n!==o&&(p(t),r(n))},m=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},d.map((e=>{let{value:t,label:a,attributes:s}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:c},s,{className:(0,i.Z)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":o===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:n}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=f(e);return l.createElement("div",{className:(0,i.Z)("tabs-container",b.tabList)},l.createElement(v,(0,n.Z)({},e,t)),l.createElement(y,(0,n.Z)({},e,t)))}function S(e){const t=(0,g.Z)();return l.createElement(w,(0,n.Z)({key:String(t)},e))}const N={tabItem:"tabItem_Ymn6"};function C(e){let{children:t,hidden:a,className:n}=e;return l.createElement("div",{role:"tabpanel",className:(0,i.Z)(N.tabItem,n),hidden:a},t)}const Z={slug:"/",position:2},I="IBM TechXchange Hands-on Lab",M={unversionedId:"tas-workshop/ocpmas-workshop",id:"tas-workshop/ocpmas-workshop",title:"IBM TechXchange Hands-on Lab",description:"\x3c!--",source:"@site/docs/tas-workshop/ocpmas-workshop.md",sourceDirName:"tas-workshop",slug:"/",permalink:"/",draft:!1,tags:[],version:"current",frontMatter:{slug:"/",position:2},sidebar:"workshopSidebar",previous:{title:"Workshop",permalink:"/category/workshop"}},V={},A=[{value:"What&#39;s included in this lab?",id:"whats-included-in-this-lab",level:2},{value:"- Pattern 1: OpenShift Automated",id:"--pattern-1-openshift-automated",level:3},{value:"- Pattern 2: OpenShift Interactive",id:"--pattern-2-openshift-interactive",level:3},{value:"- Maximo Application Suite (MAS)",id:"--maximo-application-suite-mas",level:3},{value:"Platforms covered in this lab",id:"platforms-covered-in-this-lab",level:2},{value:"1. Jumpbox",id:"1-jumpbox",level:3},{value:"2. Red Hat Cloud",id:"2-red-hat-cloud",level:3},{value:"3. IBM Automation",id:"3-ibm-automation",level:3},{value:"4. VMware vSphere",id:"4-vmware-vsphere",level:3},{value:"5. IBM Maximo Application Suite",id:"5-ibm-maximo-application-suite",level:3},{value:"Prerequisite: Create Red Hat account",id:"prerequisite-create-red-hat-account",level:2},{value:"Pattern 1: OpenShift Automated via IBM tool",id:"pattern-1-openshift-automated-via-ibm-tool",level:2},{value:"Passwordless log in (SSH keys)",id:"passwordless-log-in-ssh-keys",level:3},{value:"VS Code Editor",id:"vs-code-editor",level:3},{value:"Install OpenShift via automation (daffy script)",id:"install-openshift-via-automation-daffy-script",level:3},{value:"Platforms covered so far:",id:"platforms-covered-so-far",level:4},{value:"Pattern 2: OpenShift Interactive via Red Hat Assisted Installer",id:"pattern-2-openshift-interactive-via-red-hat-assisted-installer",level:2},{value:"3. IBM Maximo Application Suite using Red Hat Ansible",id:"3-ibm-maximo-application-suite-using-red-hat-ansible",level:2},{value:"daffy provided output",id:"daffy-provided-output",level:3},{value:"OpenShift log in (Web Console)",id:"openshift-log-in-web-console",level:3},{value:"Deployment scripts",id:"deployment-scripts",level:3},{value:"Podman utility for Ansible/MasDevOps code",id:"podman-utility-for-ansiblemasdevops-code",level:3},{value:"OpenShift log in (Command Terminal)",id:"openshift-log-in-command-terminal",level:3},{value:"Start Ansible",id:"start-ansible",level:3}],x={toc:A},O="wrapper";function T(e){let{components:t,...l}=e;return(0,o.kt)(O,(0,n.Z)({},x,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"ibm-techxchange-hands-on-lab"},"IBM TechXchange Hands-on Lab"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(1747).Z,width:"1828",height:"994"})),(0,o.kt)("h2",{id:"whats-included-in-this-lab"},"What's included in this lab?"),(0,o.kt)("p",null,"For provisioning OpenShift anywhere, there are several deployment patterns available. For this lab, we've chosen two: OpenShift automated and OpenShift interactive. Ansible automation will be used to provision the Maximo Application Suite."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Pattern # 1"),(0,o.kt)("th",{parentName:"tr",align:null},"Pattern # 2"),(0,o.kt)("th",{parentName:"tr",align:null},"Pattern # 3"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"OpenShift Automated")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"OpenShift Interactive")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Maximo Application Suite"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"IBM Tool"),(0,o.kt)("td",{parentName:"tr",align:null},"Red Hat Tool"),(0,o.kt)("td",{parentName:"tr",align:null},"Red Hat Ansible Tool")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"aka daffy"),(0,o.kt)("td",{parentName:"tr",align:null},"aka Assisted Installer"),(0,o.kt)("td",{parentName:"tr",align:null},"aka MasDevOps")))),(0,o.kt)("h3",{id:"--pattern-1-openshift-automated"},"- Pattern 1: OpenShift Automated"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pattern 1 uses IBM's automation framework (generally known as daffy) to build OpenShift cluster. Maximo Application Suite (MAS core) will be installed following this method.")),(0,o.kt)("h3",{id:"--pattern-2-openshift-interactive"},"- Pattern 2: OpenShift Interactive"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pattern 2 uses Red Hat's Assisted Installer technology to build OpenShift cluster. ")),(0,o.kt)("h3",{id:"--maximo-application-suite-mas"},"- Maximo Application Suite (MAS)"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Deployment of MAS will be performed using IBM's MasDevOps code which is based on Red Hat's Ansible automation framework.")),(0,o.kt)("h2",{id:"platforms-covered-in-this-lab"},"Platforms covered in this lab"),(0,o.kt)("p",null,"There are five different platforms covered in this lab."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"IBM Event Cloud's Jumpbox")," (Windows 10 workstation to perform all the tasks)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Red Hat Cloud")," (console.redhat.com using assisted installer technology to build OpenShift interactively)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"IBM Automation")," (IBM tool to build OpenShift using automation)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"VMware vSphere")," (IBM Tech Zone Gymnasium as a virtualization platform for running OpenShift)."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Maximo Application Suite")," (Red Hat's Ansible to build Maximo Application Suite).")),(0,o.kt)("h3",{id:"1-jumpbox"},"1. Jumpbox"),(0,o.kt)("p",null,"Jumpbox is your Windows 10 virtual machine. Using this environment, you will be connecting to your platform of VMware vSphere to build on-premise OpenShift clusters. You will be using VS Code, PowerShell and Firefox browser in this environment."),(0,o.kt)("h3",{id:"2-red-hat-cloud"},"2. Red Hat Cloud"),(0,o.kt)("p",null,"You will be creating a Red Hat account if you don't already have one. The Red Hat account is needed to acquire the software pull secret token (entitlement to build OpenShift). This token will be used for the OCP Automated pattern. Later, you will be using Red Hat's Assisted Installer to interactively provision OpenShift using the same token."),(0,o.kt)("h3",{id:"3-ibm-automation"},"3. IBM Automation"),(0,o.kt)("p",null,"You will be using IBM's deployment automation framework scripts to provision OpenShift on VMware. This framework is generally known as daffy (Deployment Automation Framework For You)."),(0,o.kt)("h3",{id:"4-vmware-vsphere"},"4. VMware vSphere"),(0,o.kt)("p",null,"You will be building a set of virtual machines on VMware's vSphere platform hosted by IBM's Technology Zone (aka Tech Zone Gym). These virtual machines will form a cluster of master and worker nodes. Red Hat's Assisted Installer will be used to build OpenShift cluster."),(0,o.kt)("h3",{id:"5-ibm-maximo-application-suite"},"5. IBM Maximo Application Suite"),(0,o.kt)("p",null,"You will be using Ansible automation to provision IBM Maximo Application Suite on one of the OpenShift cluster you build."),(0,o.kt)("hr",null),(0,o.kt)("h1",{id:"ready-set-go"},"Ready. Set. Go."),(0,o.kt)("h2",{id:"prerequisite-create-red-hat-account"},"Prerequisite: Create Red Hat account"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You may create your Red Hat account using your personal email address or your work address. Log in and go to step 3 if you already have an account with Red Hat.")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Please note that you will need access to your inbox to verify the account.")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go to ",(0,o.kt)("a",{parentName:"li",href:"https://cloud.redhat.com"},"https://cloud.redhat.com"))),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4232).Z,width:"1024",height:"536"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Click Create an account and follow through the setup")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(6895).Z,width:"1024",height:"547"}),"\n",(0,o.kt)("img",{alt:"VSCode01",src:a(1541).Z,width:"2574",height:"1239"}))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Go to ",(0,o.kt)("a",{parentName:"li",href:"https://console.redhat.com/openshift/downloads"},"https://console.redhat.com/openshift/downloads")," and download your pull secret file. Note that your file is downloaded to your ",(0,o.kt)("inlineCode",{parentName:"li"},"Downloads")," folder. Later in this lab, you will need to open this file in a text editor. For now, move forward.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(9345).Z,width:"3072",height:"1830"}))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"pattern-1-openshift-automated-via-ibm-tool"},"Pattern 1: OpenShift Automated via IBM tool"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Stage 1 of 2")),(0,o.kt)("p",null,"The following steps will show you how to install OpenShift using IBM's automation framework scripts (daffy)."),(0,o.kt)("h3",{id:"passwordless-log-in-ssh-keys"},"Passwordless log in (SSH keys)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Connect to your WireGuard VPN.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Locate your Gym's password.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open PowerShell and run."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},'type $env:USERPROFILE\\.ssh\\id_ed25519.pub | ssh admin@192.168.252.2 "cat >> .ssh/authorized_keys"\n')),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Type your Gym's password.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Validate passwordless log in. You should be able to log in to the Linux environment (bastion node) without the password."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"ssh admin@192.168.252.2\n")),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Type ",(0,o.kt)("inlineCode",{parentName:"li"},"exit")," and close your PowerShell window.")),(0,o.kt)("h3",{id:"vs-code-editor"},"VS Code Editor"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Launch VS Code editor. Click to select Remote Explorer icon.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(7583).Z,width:"2180",height:"1192"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Mouse-over to admin under bastion and click the arrow to select ",(0,o.kt)("inlineCode",{parentName:"li"},"Connect in Current Window ..."))),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(5453).Z,width:"2174",height:"1182"}))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Within a minute, you will have your Linux (bastion node) environment with file explorer on the left, and bash terminal on the bottom-right.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(2705).Z,width:"2174",height:"1200"}))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"On the remote bash terminal, switch user to ",(0,o.kt)("inlineCode",{parentName:"li"},"root"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo su -\n")),(0,o.kt)("h3",{id:"install-openshift-via-automation-daffy-script"},"Install OpenShift via automation (daffy script)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Update the daffy environment.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"bash <(curl -sL https://ibm.biz/BdyWmv)\n")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"The following step # 2 starts the automated installation of OpenShift which takes approximately 45 minutes. However, the script will ask you for your pull secret token within a few minutes. Carefully read the following and proceed forward. ")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Copy/paste this command on the VS Code's remote terminal. DO NOT hit Enter yet.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"/data/daffy/ocp/build.sh vmware-ipi\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"From the Windows jumpbox, right-click to open your earlier downloaded Pull Secret file in a Notepad. Copy all the content to the clipboard: shortcut ",(0,o.kt)("inlineCode",{parentName:"li"},"Ctrl+a")," + ",(0,o.kt)("inlineCode",{parentName:"li"},"Ctrl+c"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(2940).Z,width:"2238",height:"1156"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4523).Z,width:"2234",height:"1136"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(5014).Z,width:"2188",height:"814"}))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"From the VS Code's Terminal window, hit ",(0,o.kt)("inlineCode",{parentName:"li"},"Enter")," on the above pasted command from step 1.")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Within a few minutes, the OCP automation script will prompt you to paste your pull secret. Based on step # 2 above, your pull secret content is in your clipboard.")),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"When the automation script asks you to provide your pull secret, simply paste the content of your clipboard and hit ",(0,o.kt)("inlineCode",{parentName:"li"},"Enter"),".")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(8860).Z,width:"3044",height:"1566"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(9999).Z,width:"3048",height:"1570"}))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"This part of the Automated OpenShift installation setup is complete. Let the automation run on its own in the terminal. You will come back to this in 45 minutes when the instance is ready.")),(0,o.kt)("h4",{id:"platforms-covered-so-far"},"Platforms covered so far:"),(0,o.kt)(S,{defaultValue:"Platform",values:[{label:"Platform \u27a1\ufe0f",value:"Platform"},{label:"Jumpbox",value:"Jumpbox"},{label:"Red Hat Cloud",value:"Red Hat Cloud"},{label:"IBM Automation",value:"IBM Automation"}],mdxType:"Tabs"},(0,o.kt)(C,{value:"Platform",mdxType:"TabItem"},"Click on the tabs to reveal the platforms covered so far."),(0,o.kt)(C,{value:"Jumpbox",mdxType:"TabItem"},"Jumpbox is the Windows 10 virtual machine where all the commands are being run."),(0,o.kt)(C,{value:"Red Hat Cloud",mdxType:"TabItem"},"Red Hat Cloud account is used to get the entitlement token for OpenShift."),(0,o.kt)(C,{value:"IBM Automation",mdxType:"TabItem"},"IBM's automation script (daffy) is used to provision OpenShift on VMware.")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"pattern-2-openshift-interactive-via-red-hat-assisted-installer"},"Pattern 2: OpenShift Interactive via Red Hat Assisted Installer"),(0,o.kt)("p",null,"The following steps will show you how to install OpenShift using Red Hat's Assisted Installer technology on an on-premise VMware vSphere environment."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Log in to VMware vSphere with the provided credentials.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(3595).Z,width:"2360",height:"1098"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"From the Host and Inventory section, scroll down to locate your respective Resource Pool.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(411).Z,width:"2362",height:"1148"}))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"3-ibm-maximo-application-suite-using-red-hat-ansible"},"3. IBM Maximo Application Suite using Red Hat Ansible"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Stage 2 of 2")),(0,o.kt)("p",null,"The following steps will show you how to set up Red Hat's ",(0,o.kt)("inlineCode",{parentName:"p"},"podman")," utility to provision IBM's Maximo Application Suite (MAS) using Red Hat's Ansible devops code (MasDevOps). However, before you start building MAS, you need to ensure your OpenShift is installed successfully using IBM's automation."),(0,o.kt)("h3",{id:"daffy-provided-output"},"daffy provided output"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go back to the VS Code terminal and copy the output (credentials and URLs) presented by the daffy automation at the end of the successful installation. Paste the content into a Notepad file. Save the notepad file as you will be referring to this information later. ")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(1126).Z,width:"3072",height:"1198"}))),(0,o.kt)("h3",{id:"openshift-log-in-web-console"},"OpenShift log in (Web Console)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Copy your Web Console URL.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4723).Z,width:"2270",height:"520"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Paste the URL into your Firefox browser and proceed. Accept the Security Warning by clicking on Advanced and clicking Accept and continue. Repeat this once again when prompted. You will be presented with the OpenShift dashboard.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(2553).Z,width:"2536",height:"1278"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(852).Z,width:"2352",height:"1502"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(1846).Z,width:"3072",height:"1568"}))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Daffy htpasswd Provider"),". Type ",(0,o.kt)("inlineCode",{parentName:"li"},"ocpadmin")," as your username and copy/paste the password from the notepad file. Click Log in button to log in to OpenShift. ")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4110).Z,width:"3072",height:"1562"}))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Click on the three-dot menu and hide the banner from the view.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4220).Z,width:"3064",height:"1488"}))),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"OpenShift's dashboard may look very busy at first. Ensure your green check marks match the screenshot. Raise your hand if they do not.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(9088).Z,width:"3072",height:"1570"}))),(0,o.kt)("h3",{id:"deployment-scripts"},"Deployment scripts"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go back to the VS Code editor and create a new remote terminal.")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(1527).Z,width:"3058",height:"1570"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"In the newly created terminal, which is running under ",(0,o.kt)("inlineCode",{parentName:"li"},"admin")," user, change directory to ",(0,o.kt)("inlineCode",{parentName:"li"},"mas8"),".")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd mas8\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(2933).Z,width:"3072",height:"1578"}))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Run this command to pull author's bash scripts to install MAS using masdevops Ansible code.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"bash <(curl -sL https://ibm.biz/BdyWKj)\n")),(0,o.kt)("h3",{id:"podman-utility-for-ansiblemasdevops-code"},"Podman utility for Ansible/MasDevOps code"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Run the command to launch Red Hat's ",(0,o.kt)("inlineCode",{parentName:"li"},"podman")," utility. ")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The podman command will take a minute or two to run. It will take you inside the container and your bash prompt will change.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"podman run -it --pull always -v ${PWD}:/scripts:Z --name mastechex quay.io/ibmmas/cli\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(2767).Z,width:"3072",height:"1580"}))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Change directory.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd /scripts\n")),(0,o.kt)("h3",{id:"openshift-log-in-command-terminal"},"OpenShift log in (Command Terminal)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Log in to OpenShift via Command line terminal. Locate your ",(0,o.kt)("inlineCode",{parentName:"li"},"oc login ...")," command from your notepad file saved earlier.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"oc login ...\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(3159).Z,width:"2374",height:"680"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(9331).Z,width:"1986",height:"580"}))),(0,o.kt)("h3",{id:"start-ansible"},"Start Ansible"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"install MAS Core via Ansible.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./1_core.sh\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null," Screenshot"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(4323).Z,width:"3066",height:"1556"})),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"VSCode01",src:a(1908).Z,width:"2348",height:"1010"}))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"When you run '1_core.sh', your terminal will launch the Ansible process, which will automatically deploy MAS Core. We anticipate that the process will take ~40 minutes and will end successfully. There are three types of messages you should expect to see: waiting, errors, and successful. As long as your terminal is moving, everything is fine. Messages in the colors green, yellow, teal, and grey are all acceptable. If you see anything in red and your command output ends abruptly, raise your hand.")))}T.isMDXComponent=!0},3595:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/assisted01-cf488fee9d0ec18f5ccfe296dd2bc1a8.png"},411:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/assisted02-0b12f75c66712695023e65bf58da7c16.png"},1747:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/header-4b4212126685fac2828c80c2630f31a6.png"},1126:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas01-7705b3a50f161a08a1411333783d49b1.png"},4723:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas02-6c61e7a9a2261d84f500f7a8e059607b.png"},2553:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas03-abb6b63f627e4da74c0b47134cc72348.png"},852:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas04-fa95c5856ff5ae01a7d25735edad3d4b.png"},1846:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas05-164be369bad9e434c5780899555a947d.png"},4110:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas06-df1e935f5bd088be0967c334af0bac44.png"},4220:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas07-0dcfa709b8bbbee970daecf9cec559ec.png"},9088:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas08-ae446aedb176ddccd674aa81959076fb.png"},1527:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas09-e2eeacd1e4a954d0f0884b3c4965e595.png"},2933:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas10-9c59a9395353668c0435e10c6e6e84c3.png"},3159:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas11-dc7fd45773ff09ec4c198d1b3b83b48c.png"},2767:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas12-bc50d1d44c8744975eca59a4754e22d8.png"},9331:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas13-d89367db5bb19fc6fab86a6aefd22019.png"},4323:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas14-29dcb0a0d3de974ec8bcf654a194240e.png"},1908:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mas15-1916c1c33e65951d6cc14285e80ba47a.png"},4232:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud01-ccfc5315b3de806846e29fa83208f30b.png"},6895:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud02-116ae396eb55236773656a9d9b565094.png"},9345:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud03-c9de30e79213098e5769c3ffc39e2d19.png"},1541:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud04-4492aa3950b03642134197655540a9fe.png"},7583:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode12-325aa56ea915c5c03fee7688d502fbf3.png"},5453:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode13-8d0ffe98595de4bea9c406e6c24334ef.png"},2705:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode14-82533cdc396d37bf2c0a23714c876351.png"},2940:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode15-9f8d8f99ed91f72df7d6c16969e451c5.png"},4523:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode16-de982035f5ef71525a86ceae174edd86.png"},5014:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode17-dc79f561bd68e429689b5001a9bf72a5.png"},8860:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode18-7a85ed7f1f30d5f9d5bd161162c36758.png"},9999:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/vscode19-9f73f430b447b1ce80abe54dc78e96c1.png"}}]);