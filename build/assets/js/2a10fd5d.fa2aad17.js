"use strict";(self.webpackChunkgh_website=self.webpackChunkgh_website||[]).push([[460],{1535:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(7462),l=(a(7294),a(3905));a(2389);const i={slug:"/",position:2},o="OCP MAS workshop",s={unversionedId:"tas-workshop/ocpmas-workshop",id:"tas-workshop/ocpmas-workshop",title:"OCP MAS workshop",description:"Preparation (pre-event)",source:"@site/docs/tas-workshop/ocpmas-workshop.md",sourceDirName:"tas-workshop",slug:"/",permalink:"/",draft:!1,tags:[],version:"current",frontMatter:{slug:"/",position:2},sidebar:"workshopSidebar",previous:{title:"Workshop",permalink:"/category/workshop"}},r={},p=[{value:"Preparation (pre-event)",id:"preparation-pre-event",level:2},{value:"daffy setup",id:"daffy-setup",level:3},{value:"Assisted setup",id:"assisted-setup",level:3},{value:"Jumpbox setup",id:"jumpbox-setup",level:3},{value:"What is involved in this lab",id:"what-is-involved-in-this-lab",level:2},{value:"Perspectives covered in this lab",id:"perspectives-covered-in-this-lab",level:2},{value:"1. Explanation/Context",id:"1-explanationcontext",level:3},{value:"2. Red Hat Cloud",id:"2-red-hat-cloud",level:3},{value:"3. IBM Automation",id:"3-ibm-automation",level:3},{value:"4. VMware vSphere",id:"4-vmware-vsphere",level:3},{value:"5. IBM Maximo Application Suite",id:"5-ibm-maximo-application-suite",level:3},{value:"Dry-run (simulating event)",id:"dry-run-simulating-event",level:2},{value:"Create Red Hat account",id:"create-red-hat-account",level:3},{value:"VMware vSphere",id:"vmware-vsphere",level:3}],d={toc:p},u="wrapper";function h(e){let{components:t,...i}=e;return(0,l.kt)(u,(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"ocp-mas-workshop"},"OCP MAS workshop"),(0,l.kt)("h2",{id:"preparation-pre-event"},"Preparation (pre-event)"),(0,l.kt)("h3",{id:"daffy-setup"},"daffy setup"),(0,l.kt)("p",null,"The following should be performed only once on a brand new Gym instance. This will prepare the daffy environment for the automated OCP installation."),(0,l.kt)("p",null,"Change user to root."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo su -\n")),(0,l.kt)("p",null,"Copy and paste the block."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cat <<\\EOF > pre-daffy.sh\n#!/bin/bash\nyum -y update\nyum -y upgrade\nyum -y install net-tools bind-utils curl nano vim tree wget unzip jq expect httpd-tools git grepcidr dos2unix openssl libaio binutils tar\ncp /data/daffy/env/vmware-ipi-env.sh /data/daffy/env/vmware-ipi-env.sh.bak\nsed -i '16i VSPHERE_NETWORKING_MACHINE_NETWORK_CIDR=\"192.168.252.0/24\"' /data/daffy/env/vmware-ipi-env.sh\nsed -i '24 {s/4.8.37/4.12.25/}' /data/daffy/env/vmware-ipi-env.sh\nsed -i '25 {s/^/#/}' /data/daffy/env/vmware-ipi-env.sh\nEOF\n")),(0,l.kt)("p",null,"Give execute permission."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chmod +x pre-daffy.sh\n")),(0,l.kt)("p",null,"Execute."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"./pre-daffy.sh\n")),(0,l.kt)("h3",{id:"assisted-setup"},"Assisted setup"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"disk.enableUUID=TRUE\n")),(0,l.kt)("h3",{id:"jumpbox-setup"},"Jumpbox setup"),(0,l.kt)("p",null,"SSH key of the jumpbox (Windows)."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEUax+2/Hr47Xw/UG1VZfl02O+KO8KlUMxwrJxu4PkJG ibmuser@IBMWIN10\n")),(0,l.kt)("h1",{id:"the-ibmtechxchange-lab"},"The #IBMTechXChange Lab"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(1747).Z,width:"1832",height:"1008"})),(0,l.kt)("h2",{id:"what-is-involved-in-this-lab"},"What is involved in this lab"),(0,l.kt)("p",null,"There are several patterns available for the provisioning of OpenShift anywhere. We have picked two for this lab."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Pattern # 1"),(0,l.kt)("th",{parentName:"tr",align:null},"Pattern # 2"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"OpenShift Automated"),(0,l.kt)("td",{parentName:"tr",align:null},"OpenShift Interactive")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IBM Tool"),(0,l.kt)("td",{parentName:"tr",align:null},"Red Hat Tool")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"aka daffy"),(0,l.kt)("td",{parentName:"tr",align:null},"aka Assisted Installer")))),(0,l.kt)("h2",{id:"perspectives-covered-in-this-lab"},"Perspectives covered in this lab"),(0,l.kt)("p",null,"There are five different perspective covered in this lab."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Explanation/Context"),(0,l.kt)("li",{parentName:"ol"},"Red Hat Cloud"),(0,l.kt)("li",{parentName:"ol"},"IBM Automation"),(0,l.kt)("li",{parentName:"ol"},"VMware vSphere"),(0,l.kt)("li",{parentName:"ol"},"Maximo Application Suite")),(0,l.kt)("h3",{id:"1-explanationcontext"},"1. Explanation/Context"),(0,l.kt)("p",null,"Instructor will provide the explanation and the context for this lab."),(0,l.kt)("h3",{id:"2-red-hat-cloud"},"2. Red Hat Cloud"),(0,l.kt)("p",null,"You will be creating a Red Hat account if you don't already have one. The Red Hat account is needed to acquire the software pull secret token (entitlement). This token will be used for the OCP Automated pattern. Later, you will be using Red Hat's Assisted Installer to interactively provision OpenShift."),(0,l.kt)("h3",{id:"3-ibm-automation"},"3. IBM Automation"),(0,l.kt)("p",null,"You will be using IBM's automation scripts to provision OpenShift on VMware."),(0,l.kt)("h3",{id:"4-vmware-vsphere"},"4. VMware vSphere"),(0,l.kt)("p",null,"You will be building virtual machines on VMware's vSphere platform. These virtual machines will form a cluster of master and worker nodes. Red Hat's Assisted Installer will be used to build OpenShift cluster."),(0,l.kt)("h3",{id:"5-ibm-maximo-application-suite"},"5. IBM Maximo Application Suite"),(0,l.kt)("p",null,"You will be using Ansible automation to provision IBM Maximo Application Suite on one of the OpenShift cluster you build."),(0,l.kt)("h2",{id:"dry-run-simulating-event"},"Dry-run (simulating event)"),(0,l.kt)("h3",{id:"create-red-hat-account"},"Create Red Hat account"),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"You may create your Red Hat account using your personal email address or your work address. It is up to you.")),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Please note that you will need access to your inbox to verify the account.")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Go to ",(0,l.kt)("a",{parentName:"li",href:"https://cloud.redhat.com"},"https://cloud.redhat.com"))),(0,l.kt)("details",null,(0,l.kt)("summary",null," Screenshot"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(4232).Z,width:"1024",height:"536"}))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"Click Create an account and follow through the setup")),(0,l.kt)("details",null,(0,l.kt)("summary",null," Screenshot"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(6895).Z,width:"1024",height:"547"}),"\n",(0,l.kt)("img",{alt:"VSCode01",src:a(1541).Z,width:"2574",height:"1239"}))),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Go to ",(0,l.kt)("a",{parentName:"li",href:"https://console.redhat.com/openshift/downloads"},"https://console.redhat.com/openshift/downloads")," and download your pull secret file.")),(0,l.kt)("details",null,(0,l.kt)("summary",null," Screenshot"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(9345).Z,width:"3072",height:"1830"}))),(0,l.kt)("h3",{id:"vmware-vsphere"},"VMware vSphere"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Log in to VMware vSphere with the provided credentials.")),(0,l.kt)("details",null,(0,l.kt)("summary",null," Screenshot"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(3595).Z,width:"2360",height:"1098"}))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"From the Host and Inventory section, scroll down to locate your respective Resource Pool.")),(0,l.kt)("details",null,(0,l.kt)("summary",null," Screenshot"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"VSCode01",src:a(411).Z,width:"2362",height:"1148"}))))}h.isMDXComponent=!0},3595:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/assisted01-cf488fee9d0ec18f5ccfe296dd2bc1a8.png"},411:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/assisted02-0b12f75c66712695023e65bf58da7c16.png"},1747:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/header-6996ec0ef063fcb357db76522a84acfc.png"},4232:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud01-ccfc5315b3de806846e29fa83208f30b.png"},6895:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud02-116ae396eb55236773656a9d9b565094.png"},9345:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud03-c9de30e79213098e5769c3ffc39e2d19.png"},1541:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rhcloud04-4492aa3950b03642134197655540a9fe.png"}}]);